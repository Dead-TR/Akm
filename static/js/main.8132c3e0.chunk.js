(this.webpackJsonpakm=this.webpackJsonpakm||[]).push([[0],{21:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var i=a(5),r=a(13),n=(a(21),a(7)),s=a.n(n),c=a(1),o=a(2),h=a(8),l=a(11),u=a(10);function m(e,t,a,i){var r=this.make.tilemap({key:t,tileHeight:i,tileWidth:i}),n=e?r.addTilesetImage(a,void 0,i,i):null;return r.createStaticLayer(0,n,0,0)}var p=function(){function e(t,a,i,r,n){Object(c.a)(this,e),this.world=void 0,this.scene=void 0,this.objects=void 0,this.scene=t,this.world=m.call(t,a,i,r,n),this.objects={}}return Object(o.a)(e,[{key:"addSimpleObjects",value:function(e){var t=this;e.forEach((function(e){var a=e.x,i=e.y,r=e.imgName,n=e.name;t.objects[n]=t.scene.add.image(a,i,r)}))}},{key:"show",value:function(){console.log("\ud83d\ude80 ~> ",this)}}]),e}();function d(e,t,a,i){return new p(this,e,t,a,i)}var f=a(14);function y(e){var t=this;e.forEach((function(e){var a=e.method;e.data.forEach((function(e){var i;(i=t.load)[a].apply(i,Object(f.a)(e))}))}))}var v=a(15),b=a(16),g=a(4);function j(e){var t=this;e.forEach((function(e){var a=e.key,i=e.frame;t.anims.create({key:a,frames:t.anims.generateFrameNumbers(i.name,i.ways),frameRate:i.frameRate,repeat:i.repeat})}))}var O,k=function(){function e(t,a,i,r,n){Object(c.a)(this,e),this.actor=void 0,this.scene=void 0,this.scene=t,this.actor=t.physics.add.sprite(a,i,r,n)}return Object(o.a)(e,[{key:"addAnimation",value:function(e){j.call(this.scene,e)}},{key:"move",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,r=this.actor.x-e<-i?"right":this.actor.x-e>i?"left":"stop",n=this.actor.y-t<-i?"bottom":this.actor.y-t>i?"top":"stop";return"right"===r?this.actor.setVelocityX(a):"left"===r?this.actor.setVelocityX(-a):this.actor.setVelocityX(0),"bottom"===n?this.actor.setVelocityY(a):"top"===n?this.actor.setVelocityY(-a):this.actor.setVelocityY(0),[r,n]}}]),e}();function w(e,t,a,i){return new x(this,e,t,a,i)}!function(e){e.left="playerGoLeft",e.right="playerGoRight",e.top="playerGoUp",e.bottom="playerGoDown"}(O||(O={}));var x=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e,i,r,n,s){var o;return Object(c.a)(this,a),(o=t.call(this,e,i,r,n,s)).scene=void 0,o.scene=e,o}return Object(o.a)(a,[{key:"check",value:function(){console.log("actor: ",this)}},{key:"move",value:function(){var e,t=this.scene.world.objects.cursor.x,i=this.scene.world.objects.cursor.y,r=Object(b.a)(Object(g.a)(a.prototype),"move",this).call(this,t,i,100,5),n=Object(v.a)(r,2),s=n[0],c=n[1];if("stop"!==s)this.actor.anims.isPaused&&this.actor.anims.play(this.actor.anims.currentAnim),(null===(e=this.actor.anims.currentAnim)||void 0===e?void 0:e.key)!==O[s]&&this.actor.anims.play(O[s]);else if("stop"!==c){var o;this.actor.anims.isPaused&&this.actor.anims.play(this.actor.anims.currentAnim),(null===(o=this.actor.anims.currentAnim)||void 0===o?void 0:o.key)!==O[c]&&this.actor.anims.play(O[c])}else{var h;this.actor.anims.pause(null===(h=this.actor.anims.currentAnim)||void 0===h?void 0:h.frames[1])}return r}}]),a}(k),G=function(){function e(t){Object(c.a)(this,e),this.scene=void 0,this.create=void 0,this.load=void 0,this.scene=t,this.create={world:d.bind(this.scene),player:w.bind(this.scene),animation:j.bind(this.scene)},this.load={preload:y.bind(this.scene)}}return Object(o.a)(e,[{key:"addListeners",value:function(e,t){this.scene.input.on(e,t)}}]),e}();var A=a(0),S={ways:{start:0,end:3},frameRate:6,repeat:-1},D=[{key:"playerGoUp",frame:Object(A.a)(Object(A.a)({},S),{},{name:"playerUp"})},{key:"playerGoDown",frame:Object(A.a)(Object(A.a)({},S),{},{name:"playerDown"})},{key:"playerGoLeft",frame:Object(A.a)(Object(A.a)({},S),{},{name:"playerLeft"})},{key:"playerGoRight",frame:Object(A.a)(Object(A.a)({},S),{},{name:"playerRight"})}],L=[{x:160,y:160,imgName:"cursor",name:"cursor"}],R={frame:{frameWidth:20,frameHeight:45,startFrame:0,endFrame:3},path:"game/assets/img/DefaultScene/characters/player/"},V=[{method:"image",data:[["exampleGrassTile","game/assets/img/DefaultScene/grass.png"],["cursor","game/assets/img/general/cursor.png"]]},{method:"tilemapCSV",data:[["exampleGrid","game/assets/grids/DefaultScene/grass.csv"]]},{method:"spritesheet",data:[["playerLeft","".concat(R.path,"p_left.png"),R.frame],["playerRight","".concat(R.path,"p_right.png"),R.frame],["playerDown","".concat(R.path,"p_down.png"),Object(A.a)(Object(A.a)({},R.frame),{},{frameHeight:44})],["playerUp","".concat(R.path,"p_up.png"),Object(A.a)(Object(A.a)({},R.frame),{},{frameHeight:44})]]}],U=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var i;return Object(c.a)(this,a),(i=t.call(this,e)).engine=void 0,i.player=void 0,i.world=void 0,i.engine=new G(Object(h.a)(i)),i}return Object(o.a)(a,[{key:"preload",value:function(){this.engine.load.preload(V)}},{key:"create",value:function(){var e=this;this.world=this.engine.create.world(!0,"exampleGrid","exampleGrassTile",32),this.world.addSimpleObjects(L),this.player=this.engine.create.player(64,64,"playerUp",1),this.player.addAnimation(D),this.player.check(),this.engine.addListeners("pointerup",(function(){var t,a,i;t=e.world.objects.cursor,a=e.input.x,i=e.input.y,t.setPosition(a,i)}))}},{key:"update",value:function(){this.player.move()}}]),a}(n.Scene),E={type:Phaser.AUTO,parent:"game-box",width:480,height:480,scene:[U],backgroundColor:1310779,physics:{default:"arcade",arcade:{debug:!0}}},H=new s.a.Game(E),N=a(3),P=function(){Object(i.useMemo)((function(){return H}),[]);return Object(N.jsx)("div",{children:Object(N.jsx)("div",{id:"game-box"})})};var T=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(P,{})})};a(24);Object(r.render)(Object(N.jsx)(T,{}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.8132c3e0.chunk.js.map